<!DOCTYPE html> <html style lang=en><!--
 Page saved with SingleFile 
 url: https://www.brautaset.org/posts/alien-artefacts.html 
 saved date: Sun Apr 16 2023 21:30:13 GMT+0100 (Irish Standard Time)
--><meta charset=utf-8>
<meta name=viewport content="width=device-width, initial-scale=1">
<title>Alien Artefacts</title>
<meta name=author content="System administrator">
<meta name=generator content="Org Mode">
<link rel=alternative type=application/rss+xml href=https://www.brautaset.org/feed.xml title="Stig's Soapbox RSS Feed">
<meta name=referrer content=same-origin>
<style>:root{--accent:#004400;--alt-accent:#ccffcc;--footnotes:gray}body{font-size:x-large;line-height:1.5;margin:0}.title{margin-bottom:.2em}.title,.subtitle{text-align:center}h1,h2,.subtitle{color:var(--accent)}#preamble,#content,#postamble{padding:1mm}#preamble{border-bottom:3px solid var(--accent);background-color:var(--alt-accent)}#postamble{border-top:3px solid var(--accent);background-color:var(--alt-accent)}header,footer{display:flex;flex-wrap:wrap}.header-title>a:link,a:visited{text-decoration:none}.header-title,.footer-copyright,.footer-nav{flex:100%}.posted-date{font-size:smaller;text-align:center}.footer-nav>nav>ul{justify-content:center}.footer-copyright>p{text-align:center}nav>ul{list-style:none;display:flex;padding:0;margin:0}nav>ul>li+li:before{content:"•";padding:0 0.5em;color:var(--accent)}.footpara{display:inline}.footdef{margin-bottom:1em}#footnotes{color:var(--footnotes);font-size:smaller}#footnotes hr{border:0;border-top:1px solid var(--accent);border-radius:1px;width:50%}@media (min-width:600px){#content{max-width:65ch;margin:auto}}</style>
<link rel=icon type=image/png href=data:image/png;base64,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 data-sf-original-href=https://www.brautaset.org/icon.png><link rel=canonical href=https://www.brautaset.org/posts/alien-artefacts.html><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body>
<div id=preamble class=status>
<header>
 <div class=header-title>
 <a href=https://www.brautaset.org/posts.html><h1 class=title>Alien Artefacts</h1></a>
 <p class=subtitle></p>
 <p class=posted-date>Posted April 2023</p>
 </div>
</header>
</div>
<div id=content class=content>
<p>
The purpose of this blog post is to introduce the concept of <i>alien
artefacts</i><sup><a id=fnr.1 class=footref href=#fn.1 role=doc-backlink>1</a></sup>, a subcategory of legacy code. I use the term to
describe particularly complicated and important pieces of software
written by very smart engineers that are no longer working for the
company—and thus not available to support it. The software works
really well for what it was designed to do, but it is highly resistant
to change.
</p>
<p>
<i>Legacy code</i> is a term often used to describe code that is old,
outdated, and difficult to maintain or modify—due to various reasons
such as lack of documentation, obsolete technology, or changes in the
software ecosystem. An <i>alien artefact</i> is hard to change, yes—but
in contrast to most legacy code engineers may describe it as elegant,
well documented, and well tested. And it will certainly perform an
important and not-being-replaced-anytime-soon function critical to
your system.
</p>
<p>
Engineers tasked with maintaining an alien artefact find it
challenging to understand its workings, and extremely difficult to
make significant changes to—but not because they are stupid or
inexperienced. Even experienced engineers of considerable seniority
and skill may require multiple attempts to make significant changes to
an alien artefact.
</p>
<p>
Alien artefacts are inherently complex due to the intrinsic
complexity—and often poor defition—of the problem they are
designed to solve. They become <i>legacy</i> because they are so hard to
change that people become loath to even try. One indicator you have
alien artefact on your hands is an accretion disc of adapters or
anti-corruption layers at the edges of it, massaging inputs or outputs
into the right shape, because changing the artefact itself is too
difficult.
</p>
<p>
Although not an essential attribute, in addition to its <i>intrinsic</i>
complexity the authors of your <i>alien artefact</i> may have used an
esoteric language, paradigm, or techniques not used elsewhere in the
company. Perhaps they were domain experts hired or contracted
specifically to solve a thorny problem. Moreover, the choice of
language and techniques could be purely the authors' preference, or
because it fits the problem domain particularly well, and you might
not know which.
</p>
<div id=outline-container-org5fe7939 class=outline-2>
<h2 id=org5fe7939>Help! I have an alien artefact: what can I do?</h2>
<div class=outline-text-2 id=text-org5fe7939>
<ol class=org-ol>
<li><b>Understand the system</b>: Invest time in reviewing the code and any
available documentation, and try to identify the most critical
parts of the system.</li>
<li><b>Develop a comprehensive <a href=https://en.wikipedia.org/wiki/Characterization_test>characterisation test</a> suite</b>: This is
essential to ensure that changes made to the alien artefact do not
introduce bugs or unintended consequences.</li>
<li><b>Prioritize changes carefully</b>: Focus on changes that are necessary
to maintain the system's functionality, rather than on
non-essential cosmetic changes.</li>
</ol>
<p>
Finally, if you decide to attempt to replace your alien artefact, you
may find the <a href=https://martinfowler.com/bliki/StranglerFigApplication.html>strangler fig pattern</a> useful.
</p>
</div>
</div>
<div id=outline-container-org54c2dda class=outline-2>
<h2 id=org54c2dda>How do I avoid my team creating an alien artefact in the first place?</h2>
<div class=outline-text-2 id=text-org54c2dda>
<p>
Thank you for asking! Here are some suggestions:
</p>
<ol class=org-ol>
<li><b>Include junior and/or generalist engineers</b> on the team; avoid
teams staffed entirely with specialised experts with deep domain
knowledge.</li>
<li><b>Prioritise documentation and knowledge transfer</b>, and invest in
ongoing development to ensure the system stays adaptable to
changing business needs.</li>
<li><b>Use standardised coding practices</b> and avoid using overly esoteric
languages or techniques.</li>
</ol>
</div>
</div>
<div id=outline-container-org3ac2b1e class=outline-2>
<h2 id=org3ac2b1e>Acknowledgements</h2>
<div class=outline-text-2 id=text-org3ac2b1e>
<p>
Thanks to ChatGPT for valuable feedback and editorial input on early
drafts of this post. It was a joy collaborating with it. It provided
consistent and helpful feedback, and was always available to assist
with any changes or questions I had during the collaboration
process<sup><a id=fnr.2 class=footref href=#fn.2 role=doc-backlink>2</a></sup>.
</p>
<p>
Thanks also to <a href=https://emauton.org/>Cian Synnott</a> for additional feedback on a late draft of
this post, and to my wife for a minor readability improvement.
</p>
</div>
</div>
<div id=footnotes><hr>
<div class=footdef><sup><a id=fn.1 class=footnum href=#fnr.1 role=doc-backlink>1</a></sup> <div class=footpara role=doc-footnote><p class=footpara>
I am not sure where this term comes from. It is possible that
it is my own invention, but I would not be comfortable claiming that
with 100% certainty—though a cursory search before writing this post
did not turn up any relevant prior art. Please send me links if you
know of any!
</p></div></div>
<div class=footdef><sup><a id=fn.2 class=footnum href=#fnr.2 role=doc-backlink>2</a></sup> <div class=footpara role=doc-footnote><p class=footpara>
It also asked me to add this sentence to <i>really drive home</i>
how helpful it was.
</p></div></div>
</div></div>
<div id=postamble class=status>
<footer>
 <div class=footer-nav>
 <nav>
 <ul>
 <li><a accesskey=h href=https://www.brautaset.org/>Home</a></li>
 <li><a accesskey=a href=https://www.brautaset.org/posts.html>All posts</a></li>
 <li><a accesskey=A href=https://www.brautaset.org/about.html>About</a></li>
 </ul>
 </nav>
 </div>
 <div class=footer-copyright>
 <p>Copyright ©
 <span class=author>Stig Brautaset</span></p>
 </div>
</footer>
</div>
<script>document.currentScript.remove();!function(){"use strict";(t=>{const n="singlefile-infobar",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHAB8H+DhhoQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAJUExURQAAAICHi4qKioTuJAkAAAABdFJOUwBA5thmAAAAAWJLR0QCZgt8ZAAAAJJJREFUOI3t070NRCEMA2CnYAOyDyPwpHj/Va7hJ3FzV7zy3ET5JIwoAF6Jk4wzAJAkzxAYG9YRTgB+24wBgKmfrGAKTcEfAY4KRlRoIeBTgKOCERVaCPgU4Khge2GqKOBTgKOCERVaAEC/4PNcnyoSWHpjqkhwKxbcig0Q6AorXYF/+A6eIYD1lVbwG/jdA6/kA2THRAURVubcAAAAAElFTkSuQmCC",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHAB8VC4EQ6QAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAJUExURQAAAICHi4qKioTuJAkAAAABdFJOUwBA5thmAAAAAWJLR0QCZgt8ZAAAAJtJREFUOI3NkrsBgCAMRLFwBPdxBArcfxXFkO8rbKWAAJfHJ9faf9vuYX/749T5NmShm3bEwbe2SxeuM4+2oxDL1cDoKtVUjRy+tH78Cv2CS+wIiQNC1AEhk4AQeUTMWUJMfUJMSEJMSEY8kIx4IONroaYAimNxsXp1PA7PxwfVL8QnowwoVC0lig07wDDVUjAdbAnjwtow/z/bDW7eI4M2KruJAAAAAElFTkSuQmCC",i="SingleFile",A="single-file-ui-element",r="\n\t.infobar {\n\t\tbackground-color: #737373;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\ttop: 16px;\n\t\tright: 16px;\n\t\theight: auto;\n\t\twidth: auto;\n\t\tmin-height: 24px;\n\t\tmin-width: 24px;\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\tz-index: 2147483647;\n\t\tmargin: 0 0 0 16px;\n\t\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAABhmlDQ1BJQ0MgcHJvZmlsZQAAKJF9kj1Iw0AYht+mSkUrDnYQcchQnSyIijqWKhbBQmkrtOpgcukfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEydFJ0UVK/C4ptIjx4LiH9+59+e67A4RGhalm1wSgapaRisfEbG5VDLyiDwEAvZiVmKkn0osZeI6ve/j4ehfhWd7n/hz9St5kgE8kjjLdsIg3iGc2LZ3zPnGIlSSF+Jx43KACiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvE0cVhRNcoXsi4rnLc4q5Uaa9XJbxjMaytprtMcQRxLSCAJETJqKKMCCxFaNVJMpGg/5uEfdvxJcsnkKoORYwFVqJAcP/gb/O6tWZiadJOCMaD7xbY/RoHALtCs2/b3sW03TwD/M3Cltf3VBjD3SXq9rYWPgIFt4OK6rcl7wOUOMPSkS4bkSH6aQqEAvJ/RM+WAwVv6EGtu31r7OH0AMtSr5Rvg4BAYK1L2use9ezr79u+ZVv9+AFlNcp0UUpiqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH5AsHADIRLMaOHwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAPUExURQAAAIqKioyNjY2OjvDw8L2y1DEAAAABdFJOUwBA5thmAAAAAWJLR0QB/wIt3gAAAGNJREFUSMdjYCAJsLi4OBCQx6/CBQwIGIDPCBcXAkYQUsACU+AwlBVQHg6Eg5pgZBGOboIJZugDFwRwoJECJCUOhJI1wZwzqmBUwagCuipgIqTABG9h7YIKaKGAURAFEF/6AQAO4HqSoDP8bgAAAABJRU5ErkJggg==);\n\t\tborder-radius: 16px;\n\t\tuser-select: none;\n\t\t-moz-user-select: none;\n\t\topacity: .7;\n\t\tcursor: pointer;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tpadding-top: 0;\n\t\tpadding-bottom: 0;\n\t\tborder: 2px solid #eee;\n\t\tbackground-size: 70% 70%;\n\t\ttransition: all 250ms;\n\t\tfont-size: 13px;\n\t}\n\t.infobar:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-open {\n\t\topacity: 1;\n\t\tbackground-color: #f9f9f9;\n\t\tcursor: auto;\n\t\tcolor: #2d2d2d;\n\t\tpadding-top: 2px;\n\t\tpadding-bottom: 2px;\n\t\tborder: 2px solid #878787;\n\t\tbackground-image: none;\n\t\tborder-radius: 8px;\n\t\tuser-select: initial;\n\t\t-moz-user-select: initial;\n\t}\n\t.infobar-close-button {\n\t\tdisplay: none;\n\t\topacity: .7;\n\t\tpadding-top: 4px;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\tcursor: pointer;\n\t\ttransition: opacity 250ms;\n\t\theight: 16px;\n\t}\n\t.infobar-close-button:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-content {\n\t\tdisplay: none;\n\t\tfont-family: Arial;\n\t\tfont-size: 14px;\n\t\tline-height: 22px;\n\t\tword-break: break-word;\n\t\twhite-space: pre-wrap;\n\t\tposition: relative;\n\t\ttop: 1px;\n\t\ttext-align: left;\n\t}\n\t.infobar-link {\n\t\tdisplay: none;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\tline-height: 11px;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t\toutline: 0;\n\t}\n\t.infobar-link-icon {\n\t\tpadding-top: 4px;\n\t\tpadding-left: 2px;\n\t\tcursor: pointer;\n\t\topacity: .7;\n\t\ttransition: opacity 250ms;\n\t\theight: 16px;\n\t}\n\t.infobar-link-icon:hover {\n\t\topacity: 1;\n\t}\n\t.infobar-open .infobar-close-button, .infobar-open .infobar-content, .infobar-open .infobar-link {\n\t\tdisplay: inline-block;\n\t}";let a=!0;const c=t.browser;async function s(){const t=document.evaluate("//comment()",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);let s=t&&t.singleNodeValue;if(s&&((p=s).nodeType==Node.COMMENT_NODE&&p.textContent.includes(i))){const t=s.textContent.split("\n"),[,,i,...p]=t,g=i.match(/^ url: (.*) $/),h=g&&g[1];if(h){let t;if(c&&c.runtime&&c.runtime.sendMessage)try{t=await c.runtime.sendMessage({method:"tabs.getOptions",url:h})}catch(n){t={displayInfobar:!0}}else t={displayInfobar:!0};t.displayInfobar&&await async function(t,i){let c=document.querySelector(n);if(!c){let s="";if(i.length){const t=i[0].split("saved date: ")[1];if(t&&i.shift(),i.length>1){let t=i[0].split("info: ")[1].trim();for(let n=1;n<i.length-1;n++)t+="\n"+i[n].trim();s=t.trim()}else s=t}s=s||"No info",c=d(n,document.body),c.className=A;const p=await async function(t){if(t.attachShadow)return t.attachShadow({mode:"open"});{a=!1;const n=d("iframe",t);return n.style.setProperty("background-color","transparent","important"),n.style.setProperty("position","fixed","important"),n.style.setProperty("top",0,"important"),n.style.setProperty("right",0,"important"),n.style.setProperty("width","44px","important"),n.style.setProperty("height","48px","important"),n.style.setProperty("z-index",2147483647,"important"),new Promise((t=>{n.contentDocument.body.style.setProperty("margin",0),n.onload=()=>t(n.contentDocument.body)}))}}(c),g=document.createElement("style");g.textContent=r,p.appendChild(g);const h=document.createElement("div");h.classList.add("infobar"),p.appendChild(h);const u=document.createElement("img");u.classList.add("infobar-close-button"),h.appendChild(u),u.src=o,u.onclick=t=>{0===t.button&&c.remove()};const m=document.createElement("span");h.appendChild(m),m.classList.add("infobar-content"),m.textContent=s;const f=document.createElement("a");f.classList.add("infobar-link"),h.appendChild(f),f.target="_blank",f.rel="noopener noreferrer",f.title="Open source URL: "+t,f.href=t;const b=document.createElement("img");b.classList.add("infobar-link-icon"),f.appendChild(b),b.src=e,l(h),document.addEventListener("click",(t=>{if(0===t.button){let n=t.target;for(;n&&n!=c;)n=n.parentElement;n!=c&&l(h)}}))}}(h,p)}}var p}function l(t){if(t.classList.remove("infobar-open"),t.onclick=e=>{if(0===e.button)return function(t){a||document.querySelector(n).childNodes[0].contentWindow.getSelection().removeAllRanges();if(t.classList.add("infobar-open"),t.onclick=null,t.onmouseout=null,!a){const e=document.querySelector(n).childNodes[0];e.style.setProperty("width","100vw","important"),e.style.setProperty("height","100vh","important"),e.style.setProperty("width",t.getBoundingClientRect().width+33+"px","important"),e.style.setProperty("height",t.getBoundingClientRect().height+21+"px","important")}}(t),!1},!a){const t=document.querySelector(n).childNodes[0];t.style.setProperty("width","44px","important"),t.style.setProperty("height","48px","important")}}function d(t,n){const e=document.createElement(t);return n.appendChild(e),Array.from(getComputedStyle(e)).forEach((t=>e.style.setProperty(t,"initial","important"))),e}t.window==t.top&&("loading"==document.readyState?document.addEventListener("DOMContentLoaded",s,!1):s())})("object"==typeof globalThis?globalThis:window)}();
</script>